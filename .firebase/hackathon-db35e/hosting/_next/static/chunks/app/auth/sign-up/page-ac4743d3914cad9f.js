(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5301],{97495:function(e,r,t){Promise.resolve().then(t.bind(t,25218)),Promise.resolve().then(t.bind(t,5415)),Promise.resolve().then(t.bind(t,82591)),Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,15821)),Promise.resolve().then(t.bind(t,1225)),Promise.resolve().then(t.bind(t,80508))},41665:function(e,r,t){"use strict";t.d(r,{Z:function(){return I}});var n=t(23950),o=t(22988),s=t(2265),a=t(44839),i=t(26259),l=t(12272),u=t(48024),c=t(69281),d=t(69261),g=t(60909),h=t(83719),m=t(34535),f=t(87542);function v(e){return(0,f.ZP)("MuiLink",e)}let p=(0,m.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var w=t(95166),b=t(10317);let x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=e=>x[e]||e;var k=e=>{let{theme:r,ownerState:t}=e,n=y(t.color),o=(0,w.DW)(r,"palette.".concat(n),!1)||t.color,s=(0,w.DW)(r,"palette.".concat(n,"Channel"));return"vars"in r&&s?"rgba(".concat(s," / 0.4)"):(0,b.Fq)(o,.4)},Z=t(57437);let S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],j=e=>{let{classes:r,component:t,focusVisible:n,underline:o}=e,s={root:["root","underline".concat((0,l.Z)(o)),"button"===t&&"button",n&&"focusVisible"]};return(0,i.Z)(s,v,r)},U=(0,u.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r["underline".concat((0,l.Z)(t.underline))],"button"===t.component&&r.button]}})(e=>{let{theme:r,ownerState:t}=e;return(0,o.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,o.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:k({theme:r,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(p.focusVisible)]:{outline:"auto"}})});var I=s.forwardRef(function(e,r){let t=(0,c.Z)({props:e,name:"MuiLink"}),{className:i,color:l="primary",component:u="a",onBlur:h,onFocus:m,TypographyClasses:f,underline:v="always",variant:p="inherit",sx:w}=t,b=(0,n.Z)(t,S),{isFocusVisibleRef:y,onBlur:k,onFocus:I,ref:L}=(0,d.Z)(),[R,_]=s.useState(!1),P=(0,g.Z)(r,L),E=(0,o.Z)({},t,{color:l,component:u,focusVisible:R,underline:v,variant:p}),A=j(E);return(0,Z.jsx)(U,(0,o.Z)({color:l,className:(0,a.Z)(A.root,i),classes:f,component:u,onBlur:e=>{k(e),!1===y.current&&_(!1),h&&h(e)},onFocus:e=>{I(e),!0===y.current&&_(!0),m&&m(e)},ref:P,ownerState:E,variant:p,sx:[...Object.keys(x).includes(l)?[]:[{color:l}],...Array.isArray(w)?w:[w]]},b))})},87138:function(e,r,t){"use strict";t.d(r,{default:function(){return o.a}});var n=t(231),o=t.n(n)},15821:function(e,r,t){"use strict";t.d(r,{GuestGuard:function(){return c}});var n=t(57437),o=t(2265),s=t(16463),a=t(80162),i=t(85240),l=t(48727),u=t(68692);function c(e){let{children:r}=e,t=(0,s.useRouter)(),{user:c,error:d,isLoading:g}=(0,u.a)(),[h,m]=o.useState(!0),f=async()=>{if(!g){if(d){m(!1);return}if(c){l.k.debug("[GuestGuard]: User is logged in, redirecting to dashboard"),t.replace(i.H.dashboard.Analiza);return}m(!1)}};return(o.useEffect(()=>{f().catch(()=>{})},[c,d,g]),h)?null:d?(0,n.jsx)(a.Z,{color:"error",children:d}):(0,n.jsx)(o.Fragment,{children:r})}},1225:function(e,r,t){"use strict";t.d(r,{SignUpForm:function(){return U}});var n=t(57437),o=t(2265),s=t(87138),a=t(16463),i=t(31014),l=t(80162),u=t(75519),c=t(65786),d=t(28549),g=t(68038),h=t(10437),m=t(56065),f=t(41665),v=t(55677),p=t(88929),w=t(83719),b=t(39343),x=t(59772),y=t(85240),k=t(93814),Z=t(68692);let S=x.z.object({email:x.z.string().min(1,{message:"Email is required"}),password:x.z.string().min(6,{message:"Password should be at least 6 characters"}),terms:x.z.boolean().refine(e=>e,"You must accept the terms and conditions")}),j={email:"",password:"",terms:!1};function U(){let e=(0,a.useRouter)(),{checkSession:r}=(0,Z.a)(),[t,x]=o.useState(!1),{control:U,handleSubmit:I,setError:L,formState:{errors:R}}=(0,b.cI)({defaultValues:j,resolver:(0,i.F)(S)}),_=o.useCallback(async t=>{x(!0);let{error:n}=await k.U.signUp(t);if(n){L("root",{type:"server",message:n}),x(!1);return}await (null==r?void 0:r()),e.refresh()},[r,e,L]);return(0,n.jsxs)(p.Z,{spacing:3,children:[(0,n.jsxs)(p.Z,{spacing:1,children:[(0,n.jsx)(w.Z,{variant:"h4",children:"Sign up"}),(0,n.jsxs)(w.Z,{color:"text.secondary",variant:"body2",children:["Already have an account?"," ",(0,n.jsx)(f.Z,{component:s.default,href:y.H.auth.signIn,underline:"hover",variant:"subtitle2",children:"Sign in"})]})]}),(0,n.jsx)("form",{onSubmit:I(_),children:(0,n.jsxs)(p.Z,{spacing:2,children:[(0,n.jsx)(b.Qr,{control:U,name:"email",render:e=>{let{field:r}=e;return(0,n.jsxs)(d.Z,{error:!!R.email,children:[(0,n.jsx)(m.Z,{children:"Login"}),(0,n.jsx)(v.Z,{...r,label:"Login",type:"text"}),R.email?(0,n.jsx)(h.Z,{children:R.email.message}):null]})}}),(0,n.jsx)(b.Qr,{control:U,name:"password",render:e=>{let{field:r}=e;return(0,n.jsxs)(d.Z,{error:!!R.password,children:[(0,n.jsx)(m.Z,{children:"Password"}),(0,n.jsx)(v.Z,{...r,label:"Password",type:"password"}),R.password?(0,n.jsx)(h.Z,{children:R.password.message}):null]})}}),(0,n.jsx)(b.Qr,{control:U,name:"terms",render:e=>{let{field:r}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(g.Z,{control:(0,n.jsx)(c.Z,{...r}),label:(0,n.jsxs)(o.Fragment,{children:["I have read the ",(0,n.jsx)(f.Z,{children:"terms and conditions"})]})}),R.terms?(0,n.jsx)(h.Z,{error:!0,children:R.terms.message}):null]})}}),R.root?(0,n.jsx)(l.Z,{color:"error",children:R.root.message}):null,(0,n.jsx)(u.Z,{disabled:t,type:"submit",variant:"contained",children:"Sign up"})]})})]})}},80508:function(e,r,t){"use strict";t.d(r,{DynamicLogo:function(){return c},T:function(){return u}});var n=t(57437),o=t(2265),s=t(7999),a=t(98598),i=t(38017);function l(e){let{children:r,defer:t=!1,fallback:s=null}=e,[a,l]=o.useState(!1);return(0,i.Z)(()=>{t||l(!0)},[t]),o.useEffect(()=>{t&&l(!0)},[t]),(0,n.jsx)(o.Fragment,{children:a?r:s})}function u(e){let r,{color:t="dark",emblem:o,height:a=60,width:i=60}=e;return r=o?"light"===t?"/assets/logo-emblem.svg":"/assets/logo-emblem--dark.svg":"light"===t?"/assets/logo.svg":"/assets/logo--dark.svg",(0,n.jsx)(s.Z,{alt:"logo",component:"img",height:a,src:r,width:i})}function c(e){let{colorDark:r="light",colorLight:t="dark",height:o=60,width:i=60,...c}=e,{colorScheme:d}=(0,a.tv)();return(0,n.jsx)(l,{fallback:(0,n.jsx)(s.Z,{sx:{height:"".concat(o,"px"),width:"".concat(i,"px")}}),children:(0,n.jsx)(u,{color:"dark"===d?r:t,height:o,width:i,...c})})}},22298:function(e,r,t){"use strict";t.d(r,{S:function(){return i},UserProvider:function(){return l}});var n=t(57437),o=t(2265),s=t(93814),a=t(48727);let i=o.createContext(void 0);function l(e){let{children:r}=e,[t,l]=o.useState({user:null,error:null,isLoading:!0}),u=o.useCallback(async()=>{try{let{data:e,error:r}=await s.U.getUser();if(r){a.k.error(r),l(e=>({...e,user:null,error:"Something went wrong",isLoading:!1}));return}l(r=>({...r,user:null!=e?e:null,error:null,isLoading:!1}))}catch(e){a.k.error(e),l(e=>({...e,user:null,error:"Something went wrong",isLoading:!1}))}},[]);return o.useEffect(()=>{u().catch(e=>{a.k.error(e)})},[]),(0,n.jsx)(i.Provider,{value:{...t,checkSession:u},children:r})}i.Consumer},88674:function(e,r,t){"use strict";var n=t(33128),o=t(69355),s=t(93935),a=t(41287),i=t(98163),l=t(26175);t(75931);var u=t(20084);let c=new n.u({uri:"https://hackathonapi.onrender.com/"}),d=new i.g((0,l.eI)({url:"ws://hackathonapi.onrender.com"})),g=(0,o.V)(e=>{let{query:r}=e,t=(0,u.p$)(r);return"OperationDefinition"===t.kind&&"subscription"===t.operation},d,c),h=new s.f({link:g,cache:new a.h,connectToDevTools:!0});r.Z=h},68692:function(e,r,t){"use strict";t.d(r,{a:function(){return s}});var n=t(2265),o=t(22298);function s(){let e=n.useContext(o.S);if(!e)throw Error("useUser must be used within a UserProvider");return e}},93814:function(e,r,t){"use strict";t.d(r,{U:function(){return m}});var n=t(48646),o=t(88674),s=t(21432);function a(){let e=(0,n._)(["query GetUsers($login: StringFilter) {\n          getUsers(login: $login) {\n            id\n            login\n            password  \n          }\n        }"]);return a=function(){return e},e}function i(){let e=(0,n._)(["query GetUsers {\n          getUsers {\n            id\n            login\n            password  \n          }\n        }"]);return i=function(){return e},e}function l(){let e=(0,n._)(["mutation InsertUsers($login: String, $password: String, $token: String) {\n        insertUsers(login: $login, password: $password, session_token: $token) {\n        id  \n        }\n      }"]);return l=function(){return e},e}function u(){let e=(0,n._)(["\n      mutation InsertUserInfo($roleId: Int, $userId: Int) {\n        insertUserInfo(roleId: $roleId, userId: $userId) {\n          id\n        }\n      }\n      "]);return u=function(){return e},e}function c(){let e=(0,n._)(["query GetUsers($login: StringFilter, $password: StringFilter) {\n          getUsers(login: $login, password: $password) {\n            id\n            login\n            password\n            session_token  \n          }\n        }"]);return c=function(){return e},e}function d(){let e=new Uint8Array(12);return window.crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}let g={id:"USR-000",avatar:"/assets/avatar.png",firstName:"Sofia",lastName:"Rivers",email:"sofia@devias.io"};class h{async signUp(e){let{email:r,password:t}=e,n=d();if(localStorage.setItem("custom-auth-token",n),0!==(await o.Z.query({query:(0,s.Ps)(a()),variables:{login:{value:r,filter:"eq"}}})).data.getUsers.length)return{error:"user already exists!"};let c=await o.Z.query({query:(0,s.Ps)(i())}),g=d();return await o.Z.mutate({mutation:(0,s.Ps)(l()),variables:{login:r,password:t,token:g}}),await o.Z.mutate({mutation:(0,s.Ps)(u()),variables:{roleId:1,userId:c.data.getUsers[c.data.getUsers.length-1].id+1}}),localStorage.setItem("session_token",g),localStorage.setItem("id",c.data.getUsers[c.data.getUsers.length-1].id+1),{}}async signInWithOAuth(e){return{error:"Social authentication not implemented"}}async signInWithPassword(e){let{email:r,password:t}=e,n=(await o.Z.query({query:(0,s.Ps)(c()),variables:{login:{value:r,filter:"eq"},password:{value:t,filter:"eq"}}})).data.getUsers;if(0===n.length)return{error:"Invalid credentials"};{let e=d();return localStorage.setItem("custom-auth-token",e),localStorage.setItem("id",n[0].id),localStorage.setItem("session_token",n[0].session_token),{}}}async resetPassword(e){return{error:"Password reset not implemented"}}async updatePassword(e){return{error:"Update reset not implemented"}}async getUser(){return localStorage.getItem("custom-auth-token")?{data:g}:{data:null}}async signOut(){return localStorage.removeItem("login"),localStorage.removeItem("password"),localStorage.removeItem("id"),localStorage.removeItem("custom-auth-token"),localStorage.removeItem("session_token"),{}}}let m=new h},48727:function(e,r,t){"use strict";let n;t.d(r,{k:function(){return g}});var o,s,a,i=t(20357);let l={ERROR:"ERROR",WARN:"WARN",DEBUG:"DEBUG",ALL:"ALL"},u={NONE:0,ERROR:1,WARN:2,DEBUG:3,ALL:4};class c{canWrite(e){return this.levelNumber>=u[e]}write(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];let o=this.prefix;this.showLevel&&(o="- ".concat(e," ").concat(o)),e===l.ERROR?console.error(o,...t):console.log(o,...t)}constructor({prefix:e="",level:r=l.ALL,showLevel:t=!0}){var n=this;this.debug=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.DEBUG)&&n.write(l.DEBUG,...r)},this.warn=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.WARN)&&n.write(l.WARN,...r)},this.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];n.canWrite(l.ERROR)&&n.write(l.ERROR,...r)},this.prefix=e,this.level=r,this.levelNumber=u[this.level],this.showLevel=t}}var d=t(20357);let g=function(){let{prefix:e,level:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new c({prefix:e,level:r})}({level:{site:{name:"Devias Kit",description:"",themeColor:"#090a0b",url:n=(n=(n=null!==(s=null!==(o=i.env.NEXT_PUBLIC_SITE_URL)&&void 0!==o?o:i.env.NEXT_PUBLIC_VERCEL_URL)&&void 0!==s?s:"http://localhost:3000/").includes("http")?n:"https://".concat(n)).endsWith("/")?n:"".concat(n,"/")},logLevel:null!==(a=d.env.NEXT_PUBLIC_LOG_LEVEL)&&void 0!==a?a:l.ALL}.logLevel})},85240:function(e,r,t){"use strict";t.d(r,{H:function(){return n}});let n={home:"/",auth:{signIn:"/auth/sign-in",signUp:"/auth/sign-up",resetPassword:"/auth/reset-password"},dashboard:{account:"/dashboard/account",customers:"/dashboard/customers",integrations:"/dashboard/integrations",settings:"/dashboard/settings",Analiza:"/dashboard/Analiza",Kalendarz:"/dashboard/Kalendarz",Lista_szkolen:"/dashboard/Lista_szkolen",Dodaj_szkolenie:"/dashboard/Dodaj_szkolenie",Dodaj_ankiete:"/dashboard/Dodaj_ankiete"},errors:{notFound:"/errors/not-found"}}}},function(e){e.O(0,[2957,9989,8466,9492,6175,3079,5677,6087,4171,1274,8165,1461,9813,2971,7023,1744],function(){return e(e.s=97495)}),_N_E=e.O()}]);